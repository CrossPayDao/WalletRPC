# 产品文档中心（Product Source of Truth）

## 1. 目的
本目录用于沉淀 Wallet RPC 项目的产品共识，作为需求讨论、实现验收、后续维护的唯一事实来源。
本项目采用**文档驱动开发（Document-Driven Development）**：先定义文档，再设计、实现、验证与发布。

目标是让团队达成三件事：
- 对产品目标有统一定义。
- 对需求边界和优先级有统一口径。
- 对用户故事和验收标准有可追溯依据。

## 2. P0 不可变原则（最高优先级）
- 除 UI 渲染所需静态资源与前端运行依赖外，所有业务数据请求只能访问去中心化节点 RPC 接口。
- 业务流程中禁止请求任何中心化后端业务服务（包括自建 API、第三方业务 API、代理聚合 API）。
- 该原则不可被需求变更、版本计划或临时决策覆盖。

## 3. 去中心化宣言（产品立场）
- 这是一个纯去中心化钱包，后台 0 依赖。
- 网站可随时部署到 IPFS，且可随时切换任意 RPC 终端节点。
- 私钥仅停留在浏览器内存中，无服务端持有。
- 零遥测：无分析脚本、无追踪像素、无用户数据库。
- 原生 Gnosis Safe：无需第三方 dApp，直接在界面与 Safe 合约交互。

## 4. 使用对象
- 产品经理：维护目标、需求和故事。
- AI/开发：按文档实现，不再依赖口头描述猜测业务。
- 测试/验收：按验收标准验证功能正确性。

## 5. 推荐阅读顺序
1. `00-governance/`：先看范围和变更机制。
2. `01-vision/`：明确产品目标与用户场景。
3. `02-requirements/`：确认功能与非功能要求。
4. `03-user-stories/`：将需求映射到用户故事和验收条款。
5. `04-roadmap/`：明确版本节奏。
6. `05-domain/`：统一术语和状态/数据生命周期。

## 6. 目录结构
- `00-governance/`：文档治理、范围、变更流程。
- `01-vision/`：产品目标、用户画像、核心场景。
- `02-requirements/`：功能需求与非功能需求。
- `03-user-stories/`：用户故事地图、故事清单、验收标准。
- `04-roadmap/`：里程碑与发布计划。
- `05-domain/`：领域术语、状态机与数据生命周期。
- `templates/`：需求/故事/决策模板。

## 7. 维护规则
- 每次需求变更必须先改文档，再进入实现。
- 每条需求必须具备：业务价值、边界、验收标准。
- 每条故事必须具备：角色、目标、收益、可验证条件。
- 文档版本以 Git 提交记录为准。
- 所有新增或修改条目必须显式通过 P0 原则检查。

## 8. 与代码协作约定
- 文档中需求 ID（如 `FR-001`、`NFR-003`）应在代码 PR 说明和测试用例中可追踪。
- 若实现与文档冲突，以文档为准，先修文档或先修实现，必须二选一并明确记录。
- 若实现触发了非 RPC 的业务请求，必须判定为架构违例并阻断上线。
