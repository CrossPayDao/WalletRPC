# 项目变更日志（Changelog）

本文件记录面向产品与用户的关键变更，用于统一认知与验收范围。
注意：本项目坚持 **RPC-only、后台 0 依赖、零遥测**。任何变更不得突破该原则。

## 0.2.0（Beta）

### 新增
- SEO 基线门禁：新增 `npm run check:seo` 与 CI 工作流 `seo-gate`，强制校验 `robots/sitemap/canonical/OG/Twitter/JSON-LD`、域名一致性与敏感路径禁索引规则。
- 多语言 SEO 落地页：新增 `/zh/` 与 `/en/` 静态入口页，提供独立 `title/description/canonical/hreflang`，用于搜索引擎语言匹配。

### 变更
- 官网域名统一：站点 canonical、Open Graph URL、sitemap 与 README 官网信息统一为 `https://wallet-rpc.cp.cash/`。
- 首页关键词策略升级：围绕“隐私优先、零遥测、无后台、自托管、SAFE 多签、EVM/TRON、自定义 RPC、节点切换”进行中英文关键词优化。
- 多语言索引策略升级：`sitemap.xml` 升级为含 `xhtml:link hreflang` 的多语言格式，确保 `/`、`/zh/`、`/en/` 互相关联。

## 0.1.0（Beta）

### 新增
- 节点级余额缓存与刷新状态：切换 RPC 节点时，若目标节点已有历史数据则先展示历史值并标记“更新中”；若目标节点从未拉取过数据则显示占位态，避免误导为 `0`。
- 余额同步状态对外暴露：数据层新增同步状态（`idle/updating/error`），用于 Dashboard 与 SendForm 显示“更新中/更新失败请刷新”并指导手动重试。

### 修复
- 余额误判为 0：TRON 余额与 TRC20 余额在请求失败时不再回落为 `0`，改为由上层按缓存/占位/错误态处理，避免“先 0 再跳回”。
- 测试内存失控：修复 `useWalletData` 自动刷新在不稳定依赖下重复触发的问题；并将测试执行改为分批独立进程，消除全量测试中的 OOM 风险。
- 外链安全基线：所有 `target=\"_blank\"` 链接统一增强为 `rel=\"noopener noreferrer\"`。

### 变更
- 首页产品描述由“高性能节点接入终端”调整为隐私导向文案“以隐私为默认的去中心化 RPC 钱包”（含中英文）。
- 研发流程文档补充：明确自动化测试主要在验证阶段补齐；发布版本规则明确为“新增功能升 minor、优化/修复升 patch”。

## 0.0.2（Beta）

### 新增
- 地址二维码：在 Dashboard 地址栏提供二维码展示，便于跨设备复制地址。
- 控制台（本地悬浮）：以悬浮 Dock 的形式展示本页所有 fetch/XHR 请求，支持展开查看详情与语义化解释（RPC 方法/常见 TRON 路径）。
- 单文件部署构建：支持将产物构建为单个 `index.html`（内联 JS/CSS），便于静态托管与 IPFS 部署。
- 导入阶段预检测：在导入动画期间并行探测各链余额，若发现有资产则在进入主界面前自动切换到对应链。

### 修复
- Safe 成员权限连续变更：当队列中后续操作执行时发现当前发起方已失去 owner 权限，不再永久排队，改为明确提示“无权限”并进入错误状态。
- Safe 设置“扫描中”卡死：加入超时阶段与 verify 轮询，避免无请求却永久扫描。
- RPC 请求风暴：修复部分场景下重复请求 nonce 的问题，减少无意义 RPC 请求并提升稳定性。

### 变更
- 多签交易队列页面：在完全去中心化 RPC-only 模式下无法可靠发现阈值>=2 的待签名提案，已移除相关页面与入口，避免误导用户。
